# Database connection settings
quarkus.datasource.db-kind=postgresql
quarkus.datasource.username=app
quarkus.datasource.password=app
quarkus.datasource.jdbc.url=jdbc:postgresql://postgres:5432/db

# Hibernate schema update
quarkus.hibernate-orm.database.generation=update

# CORS configuration
quarkus.http.cors=true
quarkus.http.cors.methods=GET,POST,PUT,DELETE,OPTIONS,PATCH
quarkus.http.cors.headers=accept,authorization,content-type,x-requested-with
quarkus.http.cors.exposed-headers=Content-Disposition,Location
quarkus.http.cors.origins=http://localhost,https://localhost,http://localhost:8080,http://vm10.htl-leonding.ac.at,https://vm10.htl-leonding.ac.at,https://auth.htl-leonding.ac.at
quarkus.http.cors.access-control-allow-credentials=true

# Build type
quarkus.package.jar.type=uber-jar

# Connection retry and pool settings
quarkus.datasource.jdbc.reconnect-attempts=10
quarkus.datasource.jdbc.acquisition-timeout=10
quarkus.datasource.jdbc.background-validation-interval=2
quarkus.datasource.jdbc.initial-size=1
quarkus.datasource.jdbc.min-size=1
quarkus.datasource.jdbc.max-size=8

# Keycloak Configuration
quarkus.oidc.auth-server-url=https://auth.htl-leonding.ac.at/realms/2526_5bhitm
quarkus.oidc.client-id=frontend
quarkus.oidc.application-type=service
quarkus.oidc.authentication.cookie-path=/
# TLS verification enabled for production security
quarkus.oidc.tls.verification=required

# Mailer Configuration (Brevo SMTP)
# All values must be provided via environment variables for security
quarkus.mailer.from=${SMTP_FROM}
quarkus.mailer.host=${SMTP_HOST}
quarkus.mailer.port=${SMTP_PORT}
quarkus.mailer.start-tls=REQUIRED
quarkus.mailer.username=${SMTP_USERNAME}
quarkus.mailer.password=${SMTP_PASSWORD}
quarkus.mailer.mock=false

# Notification Service Configuration
notification.test-email=${TEST_EMAIL}

# Application Base URL (for links in emails)
app.base-url=${APP_BASE_URL:https://vm10.htl-leonding.ac.at}
app.name=D4D Nachhilfeb√∂rse

# Email domain for students (used to generate email addresses from usernames)
app.email-domain=students.htl-leonding.ac.at
